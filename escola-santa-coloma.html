<!DOCTYPE html>
<html lang="ca">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="color-scheme" content="light">
	<meta name="description" content="Dades meteorolÃ²giques en temps real - EstaciÃ³ MeteorolÃ²gica Escolar">
	<title>Dashboard | Meteo:bit</title>
	<!-- Fonts: DM Serif Display for headings, Source Sans 3 for body -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Source+Sans+3:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
	<!-- Styles -->
	<link rel="stylesheet" href="css/styles.css">
	<!-- Chart.js -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
	<!-- Favicon -->
	<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸŒ¦ï¸</text></svg>">
</head>
<body>
	<div class="animated-bg"></div>
	<div class="clouds">
		<div class="cloud"></div>
		<div class="cloud"></div>
		<div class="cloud"></div>
	</div>
	<header class="header">
		<div class="container">
			<div class="header-content">
				<a href="index.html" class="logo">
					<div class="logo-icon">ğŸŒ¦ï¸</div>
					<div class="logo-text">
						Meteo:bit
						<span>Projecte mentoria 4.0</span>
					</div>
				</a>
				<button class="mobile-menu-btn" onclick="toggleMenu()" aria-label="MenÃº">
					â˜°
				</button>
				<nav class="nav" id="mainNav">
					<a href="index.html" class="nav-link">Inici</a>
					<a href="index.html#escoles" class="nav-link">Escoles</a>
					<a href="index.html#projecte" class="nav-link">El Projecte</a>
				</nav>
			</div>
		</div>
	</header>
	<main class="dashboard">
		<div class="container">
			<a href="index.html" class="back-link">
				â† Tornar a l'inici
			</a>
			<div class="dashboard-header">
				<div class="dashboard-title">
					<div class="school-badge" id="schoolBadge"></div>
					<h1>
						<span id="schoolName">Carregant...</span>
						<span id="schoolLocation"></span>
					</h1>
				</div>
				<div class="date-controls">
					<div class="date-input-group">
						<label for="startDate">ğŸ“… Data d'inici</label>
						<input type="datetime-local" id="startDate">
					</div>
					<div class="date-input-group">
						<label for="endDate">ğŸ“… Data de fi</label>
						<input type="datetime-local" id="endDate">
					</div>
					<button class="btn btn-primary" onclick="updateData()">
						ğŸ”„ Actualitzar
					</button>
					<button class="btn btn-secondary" onclick="exportData('csv')">
						ğŸ“¥ Exportar CSV
					</button>
				</div>
				<div class="quick-dates">
					<button class="quick-date-btn active" onclick="setQuickDate('today')">Avui</button>
					<button class="quick-date-btn" onclick="setQuickDate('yesterday')">Ahir</button>
					<button class="quick-date-btn" onclick="setQuickDate('7days')">Ãšltims 7 dies</button>
					<button class="quick-date-btn" onclick="setQuickDate('30days')">Ãšltims 30 dies</button>
					<button class="quick-date-btn" onclick="setQuickDate('month')">Aquest mes</button>
				</div>
				<div class="last-update" id="lastUpdate">
					<span>Ãšltima actualitzaciÃ³:</span>
					<span class="update-time" id="updateTime">--</span>
				</div>
			</div>
			<div class="loading" id="loadingState">
				<div class="loading-spinner"></div>
				<p>Carregant dades...</p>
			</div>
			<div class="error-message" id="errorState" style="display: none;">
				<span>âš ï¸</span>
				<span id="errorMessage">Error en carregar les dades</span>
			</div>
			<div class="current-weather" id="currentWeather" style="display: none;"></div>
			<div class="charts-grid" id="chartsGrid" style="display: none;"></div>
			<div class="no-data" id="noDataState" style="display: none;">
				<div class="no-data-icon">ğŸ“­</div>
				<h3>No hi ha dades disponibles</h3>
				<p>No s'han trobat dades per al perÃ­ode seleccionat.</p>
			</div>
		</div>
	</main>
	<footer class="footer">
		<div class="container">
			<div style="text-align: center; padding: 2rem 0;">
				<img src="Logos 4.0.png" alt="CÃ³digo Escuela 4.0 - Programa finanÃ§at pel Ministeri d'EducaciÃ³ amb suport de la Generalitat de Catalunya" style="max-width: 100%; height: auto;">
			</div>
			<div id="contacte" style="text-align: center; padding-bottom: 2rem;">
				<span>Autor: <a href="mailto:anin1@xtec.cat" style="color:#60a5fa;font-weight:600;">Anton Nin Nin</a></span>
				<br>
				<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" style="display:inline-block;margin-top:0.5rem;">
					<img alt="LlicÃ¨ncia de Creative Commons" style="border-width:0;vertical-align:middle;height:32px;" src="https://licensebuttons.net/l/by-nc-nd/4.0/88x31.png" />
				</a>
				<br>
				<span style="font-size:0.9em; color:var(--gray-500);">Aquesta obra estÃ  subjecta a una <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="noopener" style="color:#60a5fa;">llicÃ¨ncia CC BY-NC-ND 4.0</a>. Cal permÃ­s exprÃ©s per copiar o reutilitzar el material.</span>
			</div>
		</div>
	</footer>
	<button class="demo-toggle" id="demoToggle" onclick="toggleDemoMode()" title="Activa/Desactiva Mode Demo">
		<span class="demo-toggle-icon">ğŸ”¬</span>
		<span class="demo-toggle-text">Demo</span>
	</button>
	<script src="js/config.js"></script>
	<script src="js/thingspeak-service.js"></script>
	<script src="js/data-storage.js"></script>
	<script src="js/charts.js"></script>
	<script src="js/demo-data.js"></script>
	<script src="js/dashboard.js"></script>
</body>
</html>
